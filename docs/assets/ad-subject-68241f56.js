import{_ as f,d as _,o as j,c as y,a as p,b as t,w as s,F as I,E as C,e as V,f as B,g as d,h as E,i as S,j as F,k}from"./index-af599a35.js";import{c as T,E as v,a as w}from"./el-select-50159011.js";import{s as D,a as P}from"./subject-560fe0bb.js";/* empty css                   */const $=_({data(){return{searchText:"",subjects:[],subject:[],currentCtrl:0,page:{total:0,current:2,size:10},dialogFormVisible:!1,dialogFormVisibleById:!1,Subject:{attachment:"",fee:0,finished:"",id:0,level:"",name:"",origin:"",participant:"",period:"",subjectNo:"",type:"",userId:0},formLabelWidth:80}},mounted(){this.getSubjectsPage(1)},methods:{toEdit(e){this.dialogFormVisible=!0,this.Subject=T(e)},getSubjectsPage(e){D({current:e,size:4}).then(l=>{const n=l.data.page;this.subjects=n.records,this.page=n}).catch(l=>{console.log(l)})},refresh(){this.getSubjectsPage(1),this.currentCtrl=0},getSubjectsById(e){this.currentCtrl=1,this.subject=[],P({id:e}).then(l=>{console.log(l),this.dialogFormVisibleById=!1;const n=l.data;this.subjects=n.subjects,this.page=n}).catch(l=>{v("查询失败，没有该课题"),console.log(l)})},currentchange(e){this.currentCtrl==0?(this.getSubjectsPage(e),this.page.current=e):(this.getSubjectsById(this.searchText),this.page.current=e)},selectById(){this.dialogFormVisibleById=!0},refresh(){this.getSubjectsPage(1)}}}),z={class:"subjects"},N={class:"subject-tools"},U={class:"dialog-footer"};function L(e,o,l,n,M,W){const r=C,a=E,c=V,u=w,g=S,b=F,m=k,h=B;return j(),y(I,null,[p("div",z,[p("div",N,[t(r,{type:"warning",onClick:e.selectById},{default:s(()=>[d("按负责人ID查询数据")]),_:1},8,["onClick"]),t(r,{type:"warning",onClick:e.refresh},{default:s(()=>[d("刷新查询")]),_:1},8,["onClick"])]),t(c,{data:e.subjects,style:{width:"100%"}},{default:s(()=>[t(a,{fixed:"",prop:"id",label:"编号",width:"60",align:"center"}),t(a,{prop:"name",label:"课题名称"}),t(a,{prop:"userId",label:"负责人"}),t(a,{prop:"origin",label:"课题来源"}),t(a,{prop:"fee",label:"课题费用"}),t(a,{prop:"finished",label:"是否结项"}),t(a,{prop:"participant",label:"参与者"}),t(a,{prop:"period",label:"课题周期"}),t(a,{prop:"level",label:"课题等级"}),t(a,{prop:"subjectNo",label:"课题编号"}),t(a,{prop:"type",label:"课题类型"}),t(a,{prop:"attachment",label:"佐证材料"})]),_:1},8,["data"]),t(u,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),t(h,{modelValue:e.dialogFormVisibleById,"onUpdate:modelValue":o[3]||(o[3]=i=>e.dialogFormVisibleById=i),title:"ID查询"},{footer:s(()=>[p("span",U,[t(r,{onClick:o[1]||(o[1]=i=>e.dialogFormVisibleById=!1)},{default:s(()=>[d("Cancel")]),_:1}),t(r,{type:"primary",onClick:o[2]||(o[2]=i=>e.getSubjectsById(e.searchText))},{default:s(()=>[d("查询 ")]),_:1})])]),default:s(()=>[t(m,{model:e.Subject},{default:s(()=>[t(b,{label:"请输入负责人ID","label-width":120},{default:s(()=>[t(g,{modelValue:e.searchText,"onUpdate:modelValue":o[0]||(o[0]=i=>e.searchText=i),placeholder:"按ID搜索，请输入ID",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const J=f($,[["render",L]]);export{J as default};
