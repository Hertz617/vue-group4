import{_ as c,d as y,o as P,c as C,a as u,b as a,w as o,F as k,E as B,e as F,f as E,g as m,h as U,i as D,j as T,k as v}from"./index-af599a35.js";import{E as $}from"./el-date-picker-24a02abf.js";import{c as L,E as s,a as N}from"./el-select-50159011.js";import{p as W,a as S,b as z,c as _}from"./patent-d4997d98.js";/* empty css                   */import"./index-2308d72f.js";const A=y({name:"cli-patent",data(){return{UserID:0,searchText:"",patent:[],patents:[],page:{total:0,current:1,size:5},dialogFormVisible:!1,dialogFormVisibleById:!1,adPatent:{address:"",attachment:"",empowerTime:"",id:0,name:"",patentNo:"",type:"",userId:0},formLabelWidth:120}},mounted(){this.getById(parseInt(localStorage.getItem("UserID")))},methods:{toEdit(e){this.dialogFormVisible=!0,this.adPatent=L(e)},currentchange(e){this.getById(parseInt(localStorage.getItem("UserID"))),this.page.current=e},del(e){confirm("是否删除")==!0&&W({id:e}).then(d=>{if(console.log(d),d.success)this.getById(parseInt(localStorage.getItem("UserID")));else return!1}).catch(d=>{s("删除失败")})},toAdd(){this.dialogFormVisible=!0,this.adPatent={address:"",attachment:"",empowerTime:"",id:0,name:"",patentNo:"",type:"",userId:parseInt(localStorage.getItem("UserID"))}},selectById(){this.dialogFormVisibleById=!0},getById(e){console.log(parseInt(localStorage.getItem("UserID"))),S({id:e}).then(d=>{console.log(d),this.dialogFormVisibleById=!1;const f=d.data;this.patent=f.patents,console.log(this.patent),this.page=f}).catch(d=>{s("您尚未上传专利"),console.log(d)})},save(){const e=this.adPatent;e.id==0?z(e).then(t=>{if(t.success)this.dialogFormVisible=!1,this.getById(parseInt(localStorage.getItem("UserID"))),s(t.msg);else return s(t.msg),!1}).catch(t=>{s("网络添加错误联系管理员")}):_(e).then(t=>{if(t.success)this.dialogFormVisible=!1,this.getById(parseInt(localStorage.getItem("UserID"))),s(t.msg);else return s(t.msg),!1}).catch(t=>{s("网络编辑错误联系管理员")})}}}),j={class:"patent"},M={class:"patent-tools"},q={class:"dialog-footer"},G={class:"dialog-footer"};function H(e,t,d,f,J,K){const i=B,n=U,h=F,I=N,p=D,r=T,V=$,g=v,b=E;return P(),C(k,null,[u("div",j,[u("div",M,[a(i,{type:"warning",onClick:e.toAdd},{default:o(()=>[m("添加")]),_:1},8,["onClick"])]),a(h,{data:e.patent,style:{width:"100%"}},{default:o(()=>[a(n,{fixed:"",prop:"id",width:"50"}),a(n,{prop:"name",label:"专利名称",width:"180"}),a(n,{prop:"userId",label:"发明人",width:"80"}),a(n,{prop:"type",label:"专利类型",width:"120"}),a(n,{prop:"empowerTime",label:"授权时间",width:"250"}),a(n,{prop:"attachment",label:"佐证材料",width:"180"}),a(n,{prop:"address",label:"申请地址",width:"150"}),a(n,{prop:"patentNo",label:"专利号",width:"180"}),a(n,{fixed:"right",label:"功能管理",width:"100"},{default:o(l=>[a(i,{link:"",type:"primary",size:"small",onClick:w=>e.toEdit(l.row)},{default:o(()=>[m("更新")]),_:2},1032,["onClick"]),a(i,{link:"",type:"primary",size:"small",onClick:w=>e.del(l.row.id)},{default:o(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(I,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),a(b,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[7]||(t[7]=l=>e.dialogFormVisible=l),title:"专利编辑"},{footer:o(()=>[u("span",q,[a(i,{onClick:t[6]||(t[6]=l=>e.dialogFormVisible=!1)},{default:o(()=>[m("Cancel")]),_:1}),a(i,{type:"primary",onClick:e.save},{default:o(()=>[m("保存 ")]),_:1},8,["onClick"])])]),default:o(()=>[a(g,{model:e.adPatent},{default:o(()=>[a(r,{label:"专利名称","label-width":e.formLabelWidth},{default:o(()=>[a(p,{modelValue:e.adPatent.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.adPatent.name=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),a(r,{label:"专利类型","label-width":e.formLabelWidth},{default:o(()=>[a(p,{modelValue:e.adPatent.type,"onUpdate:modelValue":t[1]||(t[1]=l=>e.adPatent.type=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),a(r,{label:"授权时间","label-width":e.formLabelWidth},{default:o(()=>[a(V,{modelValue:e.adPatent.empowerTime,"onUpdate:modelValue":t[2]||(t[2]=l=>e.adPatent.empowerTime=l),autocomplete:"off",placeholder:"选择日期"},null,8,["modelValue"])]),_:1},8,["label-width"]),a(r,{label:"佐证材料","label-width":e.formLabelWidth},{default:o(()=>[a(p,{modelValue:e.adPatent.attachment,"onUpdate:modelValue":t[3]||(t[3]=l=>e.adPatent.attachment=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),a(r,{label:"申请地址","label-width":e.formLabelWidth},{default:o(()=>[a(p,{modelValue:e.adPatent.address,"onUpdate:modelValue":t[4]||(t[4]=l=>e.adPatent.address=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),a(r,{label:"专利号","label-width":e.formLabelWidth},{default:o(()=>[a(p,{modelValue:e.adPatent.patentNo,"onUpdate:modelValue":t[5]||(t[5]=l=>e.adPatent.patentNo=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(b,{modelValue:e.dialogFormVisibleById,"onUpdate:modelValue":t[11]||(t[11]=l=>e.dialogFormVisibleById=l),title:"专利查询"},{footer:o(()=>[u("span",G,[a(i,{onClick:t[9]||(t[9]=l=>e.dialogFormVisibleById=!1)},{default:o(()=>[m("Cancel")]),_:1}),a(i,{type:"primary",onClick:t[10]||(t[10]=l=>e.getById(e.searchText))},{default:o(()=>[m("查询 ")]),_:1})])]),default:o(()=>[a(g,{model:e.adPatent},{default:o(()=>[a(r,{label:"请输入专利ID","label-width":e.formLabelWidth},{default:o(()=>[a(p,{modelValue:e.searchText,"onUpdate:modelValue":t[8]||(t[8]=l=>e.searchText=l),placeholder:"按专利ID查询，请输入专利ID",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const x=c(A,[["render",H]]);export{x as default};
