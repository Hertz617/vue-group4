import{_ as y,d as I,o as D,c as B,a as g,b as o,w as a,F as c,E as C,e as F,f as k,g as d,h as w,i as M,j as T,k as S}from"./index-af599a35.js";import{c as v,E as i,a as E}from"./el-select-50159011.js";import{m as $,a as U,b as P,d as z,e as N,f as L,g as W,h as A}from"./major-0bc4fba2.js";/* empty css                   */const q=I({data(){return{searchText:"",majors:[],major:[],page:{total:0,current:1,size:10},dialogFormVisible:!1,dialogFormVisibleByDepartId:!1,dialogFormVisibleByDepart:!1,dialogFormVisibleBySchoolId:!1,dialogFormVisibleById:!1,Major:{id:0,majorName:"",majorDesc:"",departId:0,createTime:"",updateTime:"",deleted:0,schoolId:0},formLabelWidth:80}},mounted(){this.getMajorsPage(1)},methods:{toEdit(e){this.dialogFormVisible=!0,this.Major=v(e)},getMajorsPage(e){$({current:e,size:4}).then(s=>{const m=s.data.page;this.majors=m.records,this.page=m}).catch(s=>{console.log(s)})},getMajorsByDepartID(e){U({departId:e}).then(s=>{this.dialogFormVisibleByDepartId=!1;const m=s.data.majors;this.majors=m,i("查询成功")}).catch(s=>{console.log(s),i("查询失败，没有该学院")})},getMajorsByDepart(e){P({depart:e}).then(s=>{this.dialogFormVisibleByDepart=!1;const m=s.data.majors;this.majors=m,i("查询成功")}).catch(s=>{i("查询失败，没有该学院"),console.log(s)})},getMajorsBySchoolId(e){z({schoolId:e}).then(s=>{this.dialogFormVisibleBySchoolId=!1;const m=s.data.majors;this.majors=m,console.log(this.majors),i("查询成功")}).catch(s=>{i("查询失败，没有该学校"),console.log(s)})},getMajorsById(e){this.major=[],N({id:e}).then(s=>{console.log(s),this.dialogFormVisibleById=!1,this.major.push(s.data.major);const m=this.major;this.majors=m,i("查询成功")}).catch(s=>{i("查询失败，没有该专业"),console.log(s)})},currentchange(e){this.getMajorsPage(e),this.page.current=e},del(e){confirm("是否删除")==!0&&(console.log(e),L({id:e}).then(s=>{if(s.success)this.getMajorsPage(this.page.current);else return console.log(s.msg),!1}).catch(s=>{i("删除失败")}))},toAdd(){this.dialogFormVisible=!0},selectByDepartId(){this.dialogFormVisibleByDepartId=!0},selectByDepart(){this.dialogFormVisibleByDepart=!0},selectBySchoolId(){this.dialogFormVisibleBySchoolId=!0},selectById(){this.dialogFormVisibleById=!0},refresh(){this.getMajorsPage(1)},save(){const e=this.Major;e.id==0?W(e).then(l=>{if(l.success)this.dialogFormVisible=!1,this.getMajorsPage(this.page.current),i(l.msg);else return i(l.msg),!1}).catch(l=>{i("网络错误联系管理员")}):A(e).then(l=>{if(l.success)this.dialogFormVisible=!1,this.getMajorsPage(this.page.current),i(l.msg);else return i(l.msg),!1}).catch(l=>{i("网络错误联系管理员")})}}}),G={class:"majors"},H={class:"major-tools"},J={class:"dialog-footer"},K={class:"dialog-footer"},O={class:"dialog-footer"},Q={class:"dialog-footer"},R={class:"dialog-footer"};function X(e,l,s,m,Y,Z){const r=C,n=w,b=F,V=E,p=M,u=T,f=S,h=k;return D(),B(c,null,[g("div",G,[g("div",H,[o(r,{type:"warning",onClick:e.toAdd},{default:a(()=>[d("添加")]),_:1},8,["onClick"]),o(r,{type:"warning",onClick:e.selectByDepartId},{default:a(()=>[d("按学院ID查询数据")]),_:1},8,["onClick"]),o(r,{type:"warning",onClick:e.selectByDepart},{default:a(()=>[d("按学院名称查询数据")]),_:1},8,["onClick"]),o(r,{type:"warning",onClick:e.selectBySchoolId},{default:a(()=>[d("按学校ID查询数据")]),_:1},8,["onClick"]),o(r,{type:"warning",onClick:e.selectById},{default:a(()=>[d("按专业ID查询数据")]),_:1},8,["onClick"]),o(r,{type:"warning",onClick:e.refresh},{default:a(()=>[d("刷新查询")]),_:1},8,["onClick"])]),o(b,{data:e.majors,style:{width:"100%"}},{default:a(()=>[o(n,{fixed:"",prop:"id",width:"150"}),o(n,{prop:"majorName",label:"专业名称",width:"120"}),o(n,{prop:"majorDesc",label:"专业描述",width:"120"}),o(n,{prop:"departId",label:"学院ID",width:"120"}),o(n,{prop:"createTime",label:"创建时间",width:"120"}),o(n,{prop:"updateTime",label:"更新时间",width:"120"}),o(n,{prop:"deleted",label:"删除",width:"120"}),o(n,{prop:"schoolId",label:"学校ID",width:"120"}),o(n,{fixed:"right",label:"功能管理",width:"120"},{default:a(t=>[o(r,{link:"",type:"primary",size:"small",onClick:j=>e.toEdit(t.row)},{default:a(()=>[d("更新")]),_:2},1032,["onClick"]),o(r,{link:"",type:"primary",size:"small",onClick:j=>e.del(t.row.id)},{default:a(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(V,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),o(h,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":l[5]||(l[5]=t=>e.dialogFormVisible=t),title:"专业信息编辑"},{footer:a(()=>[g("span",J,[o(r,{onClick:l[4]||(l[4]=t=>e.dialogFormVisible=!1)},{default:a(()=>[d("Cancel")]),_:1}),o(r,{type:"primary",onClick:e.save},{default:a(()=>[d("保存 ")]),_:1},8,["onClick"])])]),default:a(()=>[o(f,{model:e.Major},{default:a(()=>[o(u,{label:"专业名称","label-width":e.formLabelWidth},{default:a(()=>[o(p,{modelValue:e.Major.majorName,"onUpdate:modelValue":l[0]||(l[0]=t=>e.Major.majorName=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(u,{label:"专业描述","label-width":e.formLabelWidth},{default:a(()=>[o(p,{modelValue:e.Major.majorDesc,"onUpdate:modelValue":l[1]||(l[1]=t=>e.Major.majorDesc=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(u,{label:"学院ID","label-width":e.formLabelWidth},{default:a(()=>[o(p,{modelValue:e.Major.departId,"onUpdate:modelValue":l[2]||(l[2]=t=>e.Major.departId=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(u,{label:"学校ID","label-width":e.formLabelWidth},{default:a(()=>[o(p,{modelValue:e.Major.schoolId,"onUpdate:modelValue":l[3]||(l[3]=t=>e.Major.schoolId=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"]),o(h,{modelValue:e.dialogFormVisibleByDepartId,"onUpdate:modelValue":l[9]||(l[9]=t=>e.dialogFormVisibleByDepartId=t),title:"学院ID查询"},{footer:a(()=>[g("span",K,[o(r,{onClick:l[7]||(l[7]=t=>e.dialogFormVisibleByDepartId=!1)},{default:a(()=>[d("Cancel")]),_:1}),o(r,{type:"primary",onClick:l[8]||(l[8]=t=>e.getMajorsByDepartID(e.searchText))},{default:a(()=>[d("查询 ")]),_:1})])]),default:a(()=>[o(f,{model:e.Major},{default:a(()=>[o(u,{label:"请输入学院ID","label-width":120},{default:a(()=>[o(p,{modelValue:e.searchText,"onUpdate:modelValue":l[6]||(l[6]=t=>e.searchText=t),placeholder:"按学院ID搜索专业，请输入学院ID",clearable:"",onClear:e.clearSearch,style:{"margin-bottom":"20px"}},null,8,["modelValue","onClear"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),o(h,{modelValue:e.dialogFormVisibleByDepart,"onUpdate:modelValue":l[13]||(l[13]=t=>e.dialogFormVisibleByDepart=t),title:"学院名称查询"},{footer:a(()=>[g("span",O,[o(r,{onClick:l[11]||(l[11]=t=>e.dialogFormVisibleByDepart=!1)},{default:a(()=>[d("Cancel")]),_:1}),o(r,{type:"primary",onClick:l[12]||(l[12]=t=>e.getMajorsByDepart(e.searchText))},{default:a(()=>[d("查询 ")]),_:1})])]),default:a(()=>[o(f,{model:e.Major},{default:a(()=>[o(u,{label:"请输入学院名称","label-width":120},{default:a(()=>[o(p,{modelValue:e.searchText,"onUpdate:modelValue":l[10]||(l[10]=t=>e.searchText=t),placeholder:"按学院名称搜索专业，请输入学院名称",clearable:"",onClear:e.clearSearch,style:{"margin-bottom":"20px"}},null,8,["modelValue","onClear"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),o(h,{modelValue:e.dialogFormVisibleBySchoolId,"onUpdate:modelValue":l[17]||(l[17]=t=>e.dialogFormVisibleBySchoolId=t),title:"学校ID查询"},{footer:a(()=>[g("span",Q,[o(r,{onClick:l[15]||(l[15]=t=>e.dialogFormVisibleBySchoolId=!1)},{default:a(()=>[d("Cancel")]),_:1}),o(r,{type:"primary",onClick:l[16]||(l[16]=t=>e.getMajorsBySchoolId(e.searchText))},{default:a(()=>[d("查询 ")]),_:1})])]),default:a(()=>[o(f,{model:e.Major},{default:a(()=>[o(u,{label:"请输入学校ID","label-width":120},{default:a(()=>[o(p,{modelValue:e.searchText,"onUpdate:modelValue":l[14]||(l[14]=t=>e.searchText=t),placeholder:"按学校ID搜索专业，请输入学校ID",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),o(h,{modelValue:e.dialogFormVisibleById,"onUpdate:modelValue":l[21]||(l[21]=t=>e.dialogFormVisibleById=t),title:"专业ID查询"},{footer:a(()=>[g("span",R,[o(r,{onClick:l[19]||(l[19]=t=>e.dialogFormVisibleById=!1)},{default:a(()=>[d("Cancel")]),_:1}),o(r,{type:"primary",onClick:l[20]||(l[20]=t=>e.getMajorsById(e.searchText))},{default:a(()=>[d("查询 ")]),_:1})])]),default:a(()=>[o(f,{model:e.Major},{default:a(()=>[o(u,{label:"请输入专业ID","label-width":120},{default:a(()=>[o(p,{modelValue:e.searchText,"onUpdate:modelValue":l[18]||(l[18]=t=>e.searchText=t),placeholder:"按专业ID搜索专业，请输入专业ID",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const oe=y(q,[["render",X]]);export{oe as default};
